(function(i,o){typeof exports=="object"&&typeof module<"u"?o(exports):typeof define=="function"&&define.amd?define(["exports"],o):(i=typeof globalThis<"u"?globalThis:i||self,o(i.CDWFW={}))})(this,(function(i){"use strict";const o="0.1.0",s=[];function f(t){const n=s.findIndex(e=>e.name===t.name);if(n>=0){s[n]=t;return}s.push(t)}function g(){return[...s]}const u="data-cdw-fw-initialized";function h(t){return t??document}function d(t){const n=t.getAttribute(u);return n?new Set(n.split(" ").filter(Boolean)):new Set}function I(t,n){const e=d(t);e.has(n)||(e.add(n),t.setAttribute(u,Array.from(e).join(" ")))}function y(t,n){return!d(t).has(n)}function p(t,n){const e=Array.from(t.querySelectorAll(n));return t instanceof HTMLElement&&t.matches(n)&&e.unshift(t),e}function a(t){const n=h(t),e=g();for(const r of e){const A=p(n,r.selector);for(const c of A)if(y(c,r.name))try{r.init(c,m),I(c,r.name)}catch(S){console.error(`cdw-fw init error: ${r.name}`,S)}}}function l(t){return a(t),m}const m={version:o,init:l,register:f,scan:a};i.CDW_FW_VERSION=o,i.init=l,i.register=f,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})}));
