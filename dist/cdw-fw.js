(function(h,y){typeof exports=="object"&&typeof module<"u"?y(exports):typeof define=="function"&&define.amd?define(["exports"],y):(h=typeof globalThis<"u"?globalThis:h||self,y(h.CDWFW={}))})(this,(function(h){"use strict";const y=".cdw-accordion-item",T=".cdw-accordion-trigger",Tt=".cdw-accordion-panel",A=new WeakMap;let P=0;function W(t){return P+=1,`${t}-${P}`}function G(t,e){return t===null?e:t===""?!0:t==="true"}function Ct(t,e){return t==="multiple"?"multiple":e}function kt(t,e){switch(t){case"plus":case"caret":case"arrow":case"dot":case"chevron":return t;default:return e}}function F(t){if(t==null)return[];if(Array.isArray(t))return t;if(typeof t=="number")return[t];if(typeof t=="string"){const e=t.trim();if(!e)return[];if(e.includes(","))return e.split(",").map(r=>r.trim()).filter(Boolean).map(r=>{const o=Number(r);return Number.isNaN(o)?r:o});const n=Number(e);return Number.isNaN(n)?[e]:[n]}return[]}function Ot(t,e){const n=Ct(t.getAttribute("data-mode"),"single"),r=G(t.getAttribute("data-collapsible"),!1),o=G(t.getAttribute("data-animate"),!0),i=kt(t.getAttribute("data-icon"),"chevron"),s=F(t.getAttribute("data-default-open"));return{mode:n,collapsible:r,defaultOpen:s,animate:o,icon:i}}function Mt(t,e){return t.getAttribute("data-cdw-accordion-item")||t.id||String(e)}function Nt(t,e){if(typeof e=="number")return t.index===e;if(e.startsWith("id:")){const n=e.slice(3);return t.key===n||t.item.id===n}return t.key===e}function C(t,e,n){if(!n){t.style.maxHeight=e?"none":"0px",t.style.opacity=e?"1":"0",t.style.pointerEvents=e?"auto":"none";return}if(e){t.style.maxHeight=`${t.scrollHeight}px`,t.style.opacity="1",t.style.pointerEvents="auto";const r=o=>{o.propertyName==="max-height"&&(t.style.maxHeight!=="0px"&&(t.style.maxHeight="none"),t.removeEventListener("transitionend",r))};t.addEventListener("transitionend",r);return}(t.style.maxHeight==="none"||t.style.maxHeight==="")&&(t.style.maxHeight=`${t.scrollHeight}px`),t.style.opacity="1",t.style.pointerEvents="none",t.getBoundingClientRect(),t.style.maxHeight="0px",t.style.opacity="0"}function k(t,e){t.trigger.setAttribute("aria-expanded",e?"true":"false"),t.panel.setAttribute("aria-hidden",e?"false":"true")}function z(t,e,n){t.dispatchEvent(new CustomEvent(e,{detail:{item:n.item,index:n.index,id:n.key}}))}function U(t,e){e.item.classList.contains("is-open")&&(e.item.classList.remove("is-open"),k(e,!1),C(e.panel,!1,t.options.animate),z(t.container,"cdw:accordion:close",e))}function Ht(t,e){e.disabled||e.item.classList.contains("is-open")||(t.options.mode==="single"&&t.items.forEach(n=>{n!==e&&U(t,n)}),e.item.classList.add("is-open"),k(e,!0),C(e.panel,!0,t.options.animate),z(t.container,"cdw:accordion:open",e))}function Y(t,e){if(e.disabled)return;if(e.item.classList.contains("is-open")){if(t.options.mode==="single"&&!t.options.collapsible)return;U(t,e);return}Ht(t,e)}function It(t){return Array.from(t.querySelectorAll(y)).map((n,r)=>{const o=n.querySelector(T),i=n.querySelector(Tt);if(!o||!i)return null;o.id||(o.id=W("cdw-accordion-trigger")),i.id||(i.id=W("cdw-accordion-panel")),o.setAttribute("aria-controls",i.id),o.tagName==="BUTTON"&&!o.getAttribute("type")&&o.setAttribute("type","button"),i.setAttribute("role","region"),i.setAttribute("aria-labelledby",o.id);const s=n.classList.contains("is-disabled")||n.getAttribute("data-disabled")==="true"||o.hasAttribute("disabled")||o.getAttribute("aria-disabled")==="true";return s?(n.classList.add("is-disabled"),o.setAttribute("aria-disabled","true"),o.tagName==="BUTTON"&&o.setAttribute("disabled","true"),o.tagName!=="BUTTON"&&o.setAttribute("tabindex","-1")):(n.classList.remove("is-disabled"),o.removeAttribute("aria-disabled"),o.tagName!=="BUTTON"&&o.setAttribute("tabindex","0")),{item:n,trigger:o,panel:i,index:r,key:Mt(n,r),disabled:s}}).filter(n=>n!==null)}function Rt(t){const e=F(t.options.defaultOpen),n=e.length>0;let r=0;t.items.forEach(o=>{const i=n?e.some(c=>Nt(o,c)):o.item.classList.contains("is-open");t.options.mode==="single"&&r>0&&i&&o.item.classList.remove("is-open");const s=i&&!o.disabled;s?(o.item.classList.add("is-open"),r+=1):o.item.classList.remove("is-open"),k(o,s),C(o.panel,s,t.options.animate)})}function qt(t,e){const n=e.target;if(!(n instanceof Element))return;const r=n.closest(T);if(!r||!t.triggerMap.has(r)||r.getAttribute("aria-disabled")==="true"||r.hasAttribute("disabled"))return;const o=t.triggerMap.get(r);o&&Y(t,o)}function $t(t,e){const n=e.target;if(!(n instanceof Element))return;const r=n.closest(T);if(!r||!t.triggerMap.has(r))return;const o=t.items.filter(c=>!c.disabled).map(c=>c.trigger),i=o.indexOf(r);if(i===-1)return;const s=c=>{const l=o[c];l&&l.focus()};switch(e.key){case"Enter":case" ":case"Spacebar":e.preventDefault(),Y(t,t.triggerMap.get(r));break;case"ArrowDown":e.preventDefault(),s((i+1)%o.length);break;case"ArrowUp":e.preventDefault(),s((i-1+o.length)%o.length);break;case"Home":e.preventDefault(),s(0);break;case"End":e.preventDefault(),s(o.length-1);break}}function Bt(t){t.options.animate&&t.items.forEach(e=>{e.item.classList.contains("is-open")&&(e.panel.style.maxHeight=`${e.panel.scrollHeight}px`)})}function Dt(t,e){A.has(t)&&Pt(t);const n=Ot(t);t.setAttribute("data-icon",n.icon),t.setAttribute("data-animate",n.animate?"true":"false");const r=It(t),o=new Map;r.forEach(s=>o.set(s.trigger,s));const i={container:t,options:n,items:r,triggerMap:o,clickHandler:s=>qt(i,s),keyHandler:s=>$t(i,s),resizeHandler:()=>Bt(i)};t.addEventListener("click",i.clickHandler),t.addEventListener("keydown",i.keyHandler),window.addEventListener("resize",i.resizeHandler),Rt(i),A.set(t,i)}function Pt(t){const e=A.get(t);e&&(t.removeEventListener("click",e.clickHandler),t.removeEventListener("keydown",e.keyHandler),window.removeEventListener("resize",e.resizeHandler),e.items.forEach(n=>{n.item.classList.remove("is-open"),n.trigger.removeAttribute("aria-expanded"),n.trigger.removeAttribute("aria-controls"),n.panel.removeAttribute("aria-hidden"),n.panel.removeAttribute("aria-labelledby"),n.panel.removeAttribute("role"),n.panel.style.maxHeight="",n.panel.style.opacity="",n.panel.style.pointerEvents=""}),A.delete(t))}function Wt(t){Dt(t)}const Gt="[data-cdw-alert-close]",Ft="data-autoclose";function zt(t){if(!t)return null;const e=Number.parseInt(t,10);return Number.isFinite(e)&&e>0?e:null}function X(t){t.classList.contains("is-hiding")||(t.classList.add("is-hiding"),window.setTimeout(()=>{t.remove()},200))}function Ut(t){const e=t.querySelector(Gt);e&&e.addEventListener("click",()=>X(t));const n=zt(t.getAttribute(Ft));n&&window.setTimeout(()=>X(t),n)}function Yt(t){Ut(t)}const Xt="[data-cdw-gallery]",K="[data-cdw-gallery-item], .cdw-gallery__item",V=".cdw-gallery__media",Kt=".cdw-gallery__label",Vt="[data-cdw-gallery-product]";let m=null;function jt(t){return t?Array.from(t.classList).find(n=>n.startsWith("cdw-gallery__media--"))??"cdw-gallery__media--landscape":"cdw-gallery__media--landscape"}function Zt(){if(m)return m;const t=document.createElement("div");t.className="cdw-gallery-focus cdw-gallery-focus--clean",t.setAttribute("aria-hidden","true"),t.innerHTML=`
    <div class="cdw-gallery-focus__backdrop" data-cdw-gallery-close></div>
    <div class="cdw-gallery-focus__frame" role="dialog" aria-modal="true">
      <button class="cdw-gallery-focus__close" type="button" data-cdw-gallery-close aria-label="Fechar"></button>
      <div class="cdw-gallery-focus__media"></div>
      <button class="cdw-gallery-focus__nav cdw-gallery-focus__nav--prev" type="button" data-cdw-gallery-prev aria-label="Anterior"></button>
      <button class="cdw-gallery-focus__nav cdw-gallery-focus__nav--next" type="button" data-cdw-gallery-next aria-label="Proximo"></button>
    </div>
  `,document.body.appendChild(t);const e=t.querySelector(".cdw-gallery-focus__frame"),n=t.querySelector(".cdw-gallery-focus__media"),r=t.querySelector("[data-cdw-gallery-prev]"),o=t.querySelector("[data-cdw-gallery-next]"),i=Array.from(t.querySelectorAll("[data-cdw-gallery-close]")),s={root:t,frame:e,media:n,prev:r,next:o,closeButtons:i,items:[],index:0,controlsEnabled:!1,lastTap:0,keyHandler:c=>{s.root.classList.contains("is-open")&&(c.key==="Escape"&&O(),s.controlsEnabled&&c.key==="ArrowLeft"&&w(s.index-1),s.controlsEnabled&&c.key==="ArrowRight"&&w(s.index+1))}};return t.addEventListener("click",c=>{const l=c.target;if(l){if(l.closest("[data-cdw-gallery-close]")){O();return}if(l.closest("[data-cdw-gallery-prev]")){w(s.index-1);return}l.closest("[data-cdw-gallery-next]")&&w(s.index+1)}}),n.addEventListener("click",()=>{const c=Date.now();c-s.lastTap<280&&s.root.classList.toggle("is-zoomed"),s.lastTap=c}),i.forEach(c=>{c.addEventListener("click",()=>O())}),document.addEventListener("keydown",s.keyHandler),m=s,s}function Jt(t,e){t.classList.remove("cdw-gallery-focus--clean","cdw-gallery-focus--immersive"),e==="immersive"?t.classList.add("cdw-gallery-focus--immersive"):t.classList.add("cdw-gallery-focus--clean")}function O(){m&&(m.root.classList.remove("is-open","is-zoomed"),m.root.setAttribute("aria-hidden","true"),document.body.classList.remove("cdw-gallery-focus-open"))}function w(t){if(!m)return;const e=m,n=e.items.length;if(!n)return;const r=(t+n)%n,o=e.items[r],i=o.querySelector(V),s=o.querySelector(Kt)?.textContent?.trim()??"Image",c=jt(i);e.media.className=`cdw-gallery-focus__media ${c}`,e.media.innerHTML=`<span class="cdw-gallery__label cdw-gallery__label--focus">${s}</span>`,e.index=r}function Qt(t,e,n){const r=Zt(),o=Array.from(t.querySelectorAll(K));r.items=o,r.controlsEnabled=n&&o.length>1,r.prev.style.display=r.controlsEnabled?"block":"none",r.next.style.display=r.controlsEnabled?"block":"none",Jt(r.root,t.getAttribute("data-cdw-gallery-focus")),r.root.classList.add("is-open"),r.root.setAttribute("aria-hidden","false"),document.body.classList.add("cdw-gallery-focus-open");const i=Math.max(0,o.indexOf(e));w(i)}function te(t,e){if(!e)return;const n=t.querySelector("[data-cdw-gallery-strip-prev]"),r=t.querySelector("[data-cdw-gallery-strip-next]");if(!n&&!r)return;const o=()=>Math.max(180,e.clientWidth*.75);n?.addEventListener("click",()=>{e.scrollBy({left:-o(),behavior:"smooth"})}),r?.addEventListener("click",()=>{e.scrollBy({left:o(),behavior:"smooth"})})}function L(t,e,n,r){if(t.classList.add("is-loading"),!e){window.setTimeout(()=>{t.classList.remove("is-loading"),n?.()},220);return}const o=()=>{t.classList.remove("is-loading"),n?.()};if(r){e.addEventListener("load",o,{once:!0});return}e.complete?requestAnimationFrame(o):e.addEventListener("load",o,{once:!0})}function ee(t){const e=t.querySelector(".cdw-gallery__product");if(!e)return;const n=e.querySelector(".cdw-gallery__product-main"),r=n?.querySelector(".cdw-gallery__media"),o=n?.querySelector(".cdw-gallery__label"),i=n?.querySelector(".cdw-gallery__media img"),s=e.querySelector(".cdw-gallery__product-info"),c=s?.querySelector(".cdw-gallery__product-info-title"),l=s?.querySelector(".cdw-gallery__product-info-desc"),a=s?.querySelector(".cdw-gallery__product-info-meta"),d=Array.from(e.querySelectorAll("[data-cdw-gallery-thumb]"));if(!n||!r||!d.length)return;const f=u=>{d.forEach(v=>v.classList.remove("is-active")),u.classList.add("is-active");const g=u.getAttribute("data-label")??"Product",$=u.getAttribute("data-title")??g,x=u.getAttribute("data-desc")??"",xt=u.getAttribute("data-meta")??"",tn=u.getAttribute("data-aspect")??"cdw-gallery__media--square",B=u.getAttribute("data-src"),en=u.getAttribute("data-alt")??g;r.className=`cdw-gallery__media ${tn}`;const D=()=>{o&&(o.textContent=g),c&&(c.textContent=$),l&&(l.textContent=x),a&&(a.innerHTML=xt?xt.split("|").map(v=>`<span>${v.trim()}</span>`).join(""):""),s&&s.classList.remove("is-loading")};if(s&&s.classList.add("is-loading"),i&&B){const v=new URL(B,window.location.href).href;if(i.src===v){L(r,i,D);return}L(r,i,D,!0),i.src=B,i.alt=en}else L(r,i??null,D)};d.forEach(u=>{u.addEventListener("click",g=>{g.target instanceof HTMLImageElement&&f(u)})});const p=d.find(u=>u.classList.contains("is-active"))??d[0];f(p)}function ne(t){if(!t.matches(Xt))return;if(t.matches(Vt)){ee(t);return}const e=t.querySelector(".cdw-gallery__list");te(t,e),t.addEventListener("click",n=>{const r=n.target;if(!r)return;const o=r.closest(K);if(!o)return;const i=o.querySelector(V),s=i?.querySelector("img")??null;i&&L(i,s);const c=t.getAttribute("data-cdw-gallery-controls")==="true";Qt(t,o,c)})}const oe="[data-cdw-modal]",re="[data-cdw-modal-open]",ie="[data-cdw-modal-close]",j="cdw-modal-open",b=[],Z=new WeakMap;let J=!1;function se(t){const e=t.replace(/^#/,"");return document.getElementById(e)}function ae(t){return t?t.startsWith("#")?se(t):document.querySelector(t):null}function Q(t){return t.classList.contains("is-open")}function M(t){if(!Q(t.root))return;t.root.classList.remove("is-open"),t.root.setAttribute("aria-hidden","true");const e=b.findIndex(n=>n.root===t.root);e>=0&&b.splice(e,1),b.length===0&&document.body.classList.remove(j),t.lastActive?.focus()}function ce(t){Q(t.root)||(t.lastActive=document.activeElement,t.root.classList.add("is-open"),t.root.setAttribute("aria-hidden","false"),b.find(e=>e.root===t.root)||b.push(t),document.body.classList.add(j),t.dialog.focus())}function tt(t){const e=Z.get(t);if(e)return e;const n=t.querySelector(".cdw-modal__dialog");if(!n)throw new Error("Modal sem .cdw-modal__dialog");n.setAttribute("tabindex","-1"),t.setAttribute("aria-hidden","true");const r=t.getAttribute("data-close-overlay")!=="false",o={root:t,dialog:n,closeOnOverlay:r,lastActive:null};return t.addEventListener("click",i=>{const s=i.target;if(s){if(s.closest(ie)){M(o);return}r&&s.classList.contains("cdw-modal__backdrop")&&M(o)}}),Z.set(t,o),o}function le(t){const e=t.target;if(!e)return;const n=e.closest(re);if(!n)return;const r=n.getAttribute("data-cdw-modal-open"),o=ae(r);if(!o)return;t.preventDefault();const i=tt(o);ce(i)}function de(t){if(t.key!=="Escape")return;const e=b[b.length-1];e&&M(e)}function ue(){J||(document.addEventListener("click",le),document.addEventListener("keydown",de),J=!0)}function fe(t){t.matches(oe)&&(ue(),tt(t))}const pe=".cdw-navbar-panel",et="[data-cdw-navbar-toggle]",nt="[data-cdw-navbar-close]",ot="[data-cdw-navbar-sub]",rt=new WeakMap;let it=!1;function me(){if(it||typeof window>"u")return;const t=window.matchMedia?.("(pointer: coarse)").matches,e=window.matchMedia?.("(hover: none)").matches,n="ontouchstart"in window||navigator.maxTouchPoints>0;(t||e||n)&&(document.documentElement.classList.add("cdw-navbar-mobile"),it=!0)}function ge(t,e){if(t.id)return t.id;const n=`cdw-navbar-panel-${Math.random().toString(36).slice(2,8)}`;return t.id=n,e.setAttribute("data-cdw-navbar-panel",n),n}function st(t,e){t&&t.setAttribute("aria-expanded",e?"true":"false")}function be(t){t.container.classList.add("is-open"),st(t.toggle,!0)}function N(t){t.container.classList.remove("is-open"),st(t.toggle,!1)}function he(t){t.container.classList.contains("is-open")?N(t):be(t)}function ye(t){const e=t.closest(".cdw-navbar-item");if(!e)return;const n=e.classList.toggle("is-open");t.setAttribute("aria-expanded",n?"true":"false")}function we(t){if(rt.has(t))return;me();const e=t.querySelector(pe),n=t.querySelector(et),r=t.querySelector(".cdw-navbar-overlay"),o=Array.from(t.querySelectorAll(nt)),i=Array.from(t.querySelectorAll(ot));if(e){const c=ge(e,t);n&&(n.setAttribute("aria-controls",c),n.setAttribute("aria-expanded","false"),n.setAttribute("aria-label","Abrir menu"))}const s={container:t,panel:e,toggle:n,overlay:r,closeButtons:o,subToggles:i,keyHandler:c=>{c.key==="Escape"&&N(s)},clickHandler:c=>{const l=c.target;if(!(l instanceof Element))return;if(l.closest(et)){he(s);return}if(l.closest(nt)||l.closest(".cdw-navbar-overlay")){N(s);return}const d=l.closest(ot);d&&(c.preventDefault(),ye(d))}};t.addEventListener("click",s.clickHandler),t.addEventListener("keydown",s.keyHandler),rt.set(t,s)}function Ee(t){we(t)}const ve=".cdw-stage-track",Ae=".cdw-stage-slide",at="[data-cdw-stage-prev]",ct="[data-cdw-stage-next]",lt="[data-cdw-stage-go]",Le="[data-cdw-stage-counter]",_e="[data-cdw-stage-progress]",dt=new WeakMap;function _(t,e){return t===null?e:t===""?!0:t==="true"}function ut(t,e){if(!t)return e;const n=Number.parseInt(t,10);return Number.isFinite(n)?n:e}function Se(t){const e=t.getAttribute("data-autoplay"),n=t.getAttribute("data-interval"),r=_(t.getAttribute("data-pause-on-hover"),!0),o=_(t.getAttribute("data-loop"),!0),i=_(t.getAttribute("data-keyboard"),!0),s=_(t.getAttribute("data-swipe"),!0),c=ut(t.getAttribute("data-start"),0),l=t.getAttribute("data-nav")==="manual"?"manual":"auto";let a=!1,d=ut(n,5200);if(e!==null){a=e===""||e==="true";const f=Number.parseInt(e,10);Number.isFinite(f)&&(a=!0,d=f)}return{autoplay:a,interval:d,pauseOnHover:r,loop:o,keyboard:i,swipe:s,startIndex:c,navMode:l}}function xe(t){const e=t.querySelector(ve)||t,n=Array.from(e.querySelectorAll(Ae));return{track:e,slides:n}}function Te(t,e){const n=t.slides.length;return n===0?0:t.options.loop?(e+n)%n:Math.max(0,Math.min(n-1,e))}function Ce(t){const e=t.slides.length;t.slides.forEach((n,r)=>{n.setAttribute("role","group"),n.setAttribute("aria-roledescription","slide"),n.setAttribute("aria-label",`${r+1} de ${e}`),n.setAttribute("aria-hidden",r===t.current?"false":"true")})}function ft(t){const e=t.slides.length;if(t.navButtons.forEach((n,r)=>{r===t.current?n.setAttribute("aria-current","true"):n.removeAttribute("aria-current")}),t.counterEl&&(t.counterEl.textContent=`${t.current+1}/${e}`),t.progressEl){const n=e>0?(t.current+1)/e*100:0;t.progressEl.style.width=`${n}%`}}function E(t,e){const n=t.slides.length;if(n===0)return;const r=Te(t,e),o=t.options.loop?(r-1+n)%n:r-1,i=t.options.loop?(r+1)%n:r+1;t.slides.forEach((s,c)=>{s.classList.toggle("is-active",c===r),s.classList.toggle("is-prev",o>=0&&c===o),s.classList.toggle("is-next",i<n&&c===i)}),t.current=r,Ce(t),ft(t)}function pt(t){!t.options.autoplay||t.slides.length<=1||(t.timerId&&window.clearInterval(t.timerId),t.timerId=window.setInterval(()=>{E(t,t.current+1)},t.options.interval))}function ke(t){t.timerId&&(window.clearInterval(t.timerId),t.timerId=null)}function H(t){E(t,t.current-1)}function I(t){E(t,t.current+1)}function R(t,e){E(t,e)}function Oe(t){t.options.pauseOnHover&&(t.container.addEventListener("mouseenter",t.enterHandler),t.container.addEventListener("mouseleave",t.leaveHandler),t.container.addEventListener("focusin",t.enterHandler),t.container.addEventListener("focusout",t.leaveHandler)),t.container.addEventListener("click",t.clickHandler),t.options.keyboard&&(t.container.setAttribute("tabindex","0"),t.container.addEventListener("keydown",t.keyHandler)),t.options.swipe&&(t.container.addEventListener("touchstart",t.touchStartHandler,{passive:!0}),t.container.addEventListener("touchend",t.touchEndHandler))}function Me(t){if(dt.has(t))return;const e=Se(t),{track:n,slides:r}=xe(t),o=Array.from(t.querySelectorAll(lt)),i=Array.from(t.querySelectorAll(at)),s=Array.from(t.querySelectorAll(ct)),c=t.querySelector(Le),l=t.querySelector(_e),a={container:t,track:n,slides:r,navButtons:o,prevButtons:i,nextButtons:s,counterEl:c,progressEl:l,options:e,current:0,timerId:null,hoverCount:0,touchStartX:0,touchStartY:0,touchActive:!1,keyHandler:d=>{d.key==="ArrowLeft"?(d.preventDefault(),H(a)):d.key==="ArrowRight"?(d.preventDefault(),I(a)):d.key==="Home"?(d.preventDefault(),R(a,0)):d.key==="End"&&(d.preventDefault(),R(a,a.slides.length-1))},clickHandler:d=>{const f=d.target;if(!(f instanceof Element))return;const p=f.closest(at),u=f.closest(ct);if(p){H(a);return}if(u){I(a);return}const g=f.closest(lt);if(g){const $=g.getAttribute("data-cdw-stage-go"),x=Number.parseInt($||"",10);Number.isFinite(x)&&R(a,x)}},enterHandler:()=>{a.hoverCount+=1,ke(a)},leaveHandler:()=>{a.hoverCount=Math.max(0,a.hoverCount-1),a.hoverCount===0&&pt(a)},touchStartHandler:d=>{if(d.touches.length!==1)return;const f=d.touches[0];a.touchActive=!0,a.touchStartX=f.clientX,a.touchStartY=f.clientY},touchEndHandler:d=>{if(!a.touchActive)return;a.touchActive=!1;const f=d.changedTouches[0],p=f.clientX-a.touchStartX,u=f.clientY-a.touchStartY;Math.abs(p)<30||Math.abs(p)<Math.abs(u)||(p>0?H(a):I(a))}};if(t.setAttribute("role","region"),t.setAttribute("aria-roledescription","stage"),r.length>0&&t.setAttribute("aria-live","polite"),E(a,e.startIndex),Oe(a),pt(a),e.navMode==="auto"&&o.length===0&&r.length>1){const d=document.createElement("div");d.className="cdw-stage-nav",r.forEach((f,p)=>{const u=document.createElement("button");u.type="button",u.className="cdw-stage-indicator",u.setAttribute("data-cdw-stage-go",String(p)),u.setAttribute("aria-label",`Ir para o slide ${p+1}`),d.appendChild(u),a.navButtons.push(u)}),t.appendChild(d),ft(a)}dt.set(t,a)}function Ne(t){Me(t)}const He="[data-cdw-tooltip]",mt=new WeakMap;let gt=0,bt=!1;const q=new Set;function Ie(){return gt+=1,`cdw-tooltip-${gt}`}function Re(t){return t==="click"||t==="focus"||t==="hover-focus"?t:"hover"}function qe(t){return t==="top"||t==="bottom"||t==="left"||t==="right"?t:"auto"}function $e(t){switch(t){case"soft":case"solid":case"float":case"card":case"prime":case"classic":return t;default:return"classic"}}function Be(t){if(!t)return 120;const e=Number(t);return Number.isNaN(e)?120:Math.max(0,e)}function De(t){const e=t.getAttribute("data-tooltip-accent");if(e)return e.trim();const n=Array.from(t.classList).find(r=>r.startsWith("cdw-fw-accent-"));return n?n.replace("cdw-fw-accent-",""):null}function Pe(t){const{tooltip:e,options:n}=t,r=e.querySelector(".cdw-tooltip__content");if(r){if(r.innerHTML="",n.icon){const o=document.createElement("span");o.className="cdw-tooltip__icon",o.textContent=n.icon,r.appendChild(o)}if(n.title){const o=document.createElement("div");o.className="cdw-tooltip__title",o.textContent=n.title,r.appendChild(o)}if(n.text){const o=document.createElement("div");o.className="cdw-tooltip__text",o.textContent=n.text,r.appendChild(o)}if(n.meta){const o=document.createElement("div");o.className="cdw-tooltip__meta",o.textContent=n.meta,r.appendChild(o)}}}function We(t,e){const n=document.createElement("div"),r=Ie();n.id=r,n.className=`cdw-tooltip cdw-tooltip--${e.model}`,n.setAttribute("role","tooltip"),n.setAttribute("data-placement","top");const o=e.accent;o&&n.classList.add(`cdw-fw-accent-${o}`);const i=document.createElement("div");i.className="cdw-tooltip__content",n.appendChild(i);const s=document.createElement("span");return s.className="cdw-tooltip__arrow",s.setAttribute("aria-hidden","true"),n.appendChild(s),t.setAttribute("aria-describedby",r),n.setAttribute("aria-hidden","true"),document.body.appendChild(n),n}function Ge(t,e,n){const r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=10,s=r.top,c=window.innerHeight-r.bottom,l=r.left,a=window.innerWidth-r.right,d=f=>{switch(f){case"top":return s>=o.height+i;case"bottom":return c>=o.height+i;case"left":return l>=o.width+i;case"right":return a>=o.width+i;default:return!1}};if(n!=="auto"){if(d(n))return n;const f=n==="top"?"bottom":n==="bottom"?"top":n==="left"?"right":"left";if(d(f))return f}return c>=o.height+i?"bottom":s>=o.height+i?"top":a>=o.width+i?"right":l>=o.width+i?"left":"bottom"}function ht(t){const{trigger:e,tooltip:n,options:r}=t,o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),s=10,c=Ge(e,n,r.placement);let l=0,a=0;switch(c){case"top":l=o.top-i.height-s,a=o.left+(o.width-i.width)/2;break;case"bottom":l=o.bottom+s,a=o.left+(o.width-i.width)/2;break;case"left":l=o.top+(o.height-i.height)/2,a=o.left-i.width-s;break;case"right":l=o.top+(o.height-i.height)/2,a=o.right+s;break}const d=window.innerWidth-i.width-8,f=window.innerHeight-i.height-8;if(a=Math.min(Math.max(8,a),Math.max(8,d)),l=Math.min(Math.max(8,l),Math.max(8,f)),n.style.left=`${a}px`,n.style.top=`${l}px`,n.setAttribute("data-placement",c),c==="top"||c==="bottom"){const p=o.left+o.width/2-a,u=Math.min(Math.max(12,p),i.width-12);n.style.setProperty("--cdw-tooltip-arrow-x",`${u}px`)}else{const p=o.top+o.height/2-l,u=Math.min(Math.max(12,p),i.height-12);n.style.setProperty("--cdw-tooltip-arrow-y",`${u}px`)}}function yt(t){t.open||(t.open=!0,t.tooltip.classList.add("is-open"),t.tooltip.setAttribute("aria-hidden","false"),t.tooltip.style.visibility="hidden",ht(t),t.tooltip.style.visibility="visible",q.add(t),t.boundReposition())}function S(t){t.open&&(t.open=!1,t.tooltip.classList.remove("is-open"),t.tooltip.setAttribute("aria-hidden","true"),q.delete(t))}function wt(t){t.showTimer&&window.clearTimeout(t.showTimer),t.hideTimer&&window.clearTimeout(t.hideTimer),t.showTimer=void 0,t.hideTimer=void 0}function Et(t){wt(t),t.showTimer=window.setTimeout(()=>yt(t),t.options.delay)}function vt(t){wt(t),t.hideTimer=window.setTimeout(()=>S(t),90)}function Fe(){bt||(document.addEventListener("keydown",t=>{t.key==="Escape"&&q.forEach(e=>S(e))}),bt=!0)}function ze(){return window.matchMedia&&window.matchMedia("(hover: none)").matches}function Ue(t){if(!t.matches(He)||mt.has(t))return;const e=t.getAttribute("data-cdw-tooltip"),n={trigger:Re(t.getAttribute("data-tooltip-trigger")),placement:qe(t.getAttribute("data-tooltip-placement")),model:$e(t.getAttribute("data-tooltip-model")),delay:Be(t.getAttribute("data-tooltip-delay")),accent:De(t),title:t.getAttribute("data-tooltip-title"),text:t.getAttribute("data-tooltip-text")??e,meta:t.getAttribute("data-tooltip-meta"),icon:t.getAttribute("data-tooltip-icon")},r=We(t,n),o={trigger:t,tooltip:r,options:n,open:!1,boundReposition:()=>ht(o)};Pe(o);const i=n.trigger==="hover"?"hover-focus":n.trigger;if(i==="click"||i==="hover-focus"&&ze()){const c=l=>{const a=l.target;a&&(a===t||t.contains(a)||a===r||r.contains(a)||S(o))};o.boundOutside=c,t.addEventListener("click",l=>{l.preventDefault(),o.open?S(o):yt(o),o.boundOutside&&document.addEventListener("click",o.boundOutside,{once:!0})})}else t.addEventListener("mouseenter",()=>Et(o)),t.addEventListener("mouseleave",()=>vt(o)),t.addEventListener("focus",()=>Et(o)),t.addEventListener("blur",()=>vt(o));window.addEventListener("scroll",o.boundReposition,!0),window.addEventListener("resize",o.boundReposition),Fe(),mt.set(t,o)}const At="data-cdw-fw-initialized",Ye={childList:!0,subtree:!0},Xe=[{name:"accordion",selector:"[data-cdw-accordion]",bind:Wt},{name:"alert",selector:"[data-cdw-alert]",bind:Yt},{name:"gallery",selector:"[data-cdw-gallery]",bind:ne},{name:"modal",selector:"[data-cdw-modal]",bind:fe},{name:"navbar",selector:"[data-cdw-navbar]",bind:Ee},{name:"stage",selector:"[data-cdw-stage]",bind:Ne},{name:"tooltip",selector:"[data-cdw-tooltip]",bind:Ue}];function Ke(t){return t??document}function Lt(t){const e=t.getAttribute(At);return e?new Set(e.split(" ").filter(Boolean)):new Set}function Ve(t,e){const n=Lt(t);n.has(e)||(n.add(e),t.setAttribute(At,Array.from(n).join(" ")))}function je(t,e){return!Lt(t).has(e)}function Ze(t,e){const n=Array.from(t.querySelectorAll(e));return t instanceof HTMLElement&&t.matches(e)&&n.unshift(t),n}function _t(t){const e=Ke(t);for(const n of Xe){const r=Ze(e,n.selector);for(const o of r)if(je(o,n.name))try{n.bind(o),Ve(o,n.name)}catch(i){console.warn(`cdw-fw init issue: ${n.name}`,i)}}}function Je(){if(typeof MutationObserver>"u")return;const t=document.body;if(!t)return;new MutationObserver(n=>{for(const r of n)r.addedNodes.forEach(o=>{o instanceof HTMLElement&&_t(o)})}).observe(t,Ye)}function St(){_t(document),Je()}typeof window<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>St(),{once:!0}):St());const Qe="0.1.0";h.CDW_FW_VERSION=Qe,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})}));
